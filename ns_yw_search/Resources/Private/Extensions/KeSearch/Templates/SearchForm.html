<html xmlns:f="http://typo3.org/ns/TYPO3/CMS/Fluid/ViewHelpers"
	  xmlns:kesearch="http://typo3.org/ns/Tpwd\KeSearch\ViewHelpers"
	  data-namespace-typo3-fluid="true">
<f:layout name="General" />
{namespace yw=NITSAN\NsYwSearch\ViewHelpers}
<!--
=====================
Templates/SearchForm.html
-->
<f:section name="content">
	<div id="searchForm" class="container">
		<div class="gradient--box">
			<form data-title="Meinen Sie ..." method="get" id="form_kesearch_searchfield" name="form_kesearch_searchfield" action="{f:uri.page(pageUid: targetpage)}">
				<f:format.raw><script type="text/javascript">history.replaceState(null,'','</f:format.raw><kesearch:link keepPiVars="1" uriOnly="1" /><f:format.raw>');</script></f:format.raw>
				<fieldset class="kesearch_searchbox">
					<f:if condition="{targetpage}">
						<input type="hidden" name="id" value="{targetpage}" />
					</f:if>
					<f:if condition="{lparam}">
						<input type="hidden" name="L" value="{lparam}" />
					</f:if>
					<f:if condition="{mpparam}">
						<input type="hidden" name="MP" value="{mpparam}" />
					</f:if>
					<f:if condition="{typeparam}">
						<input type="hidden" name="type" value="{typeparam}" />
					</f:if>

					<div id="kesearchbox" class="kesearchbox">
						<input class="form-control" type="text" id="ke_search_sword" name="tx_kesearch_pi1[sword]" value="{searchword -> f:format.raw()}" placeholder="Search" />
						<button type="button" id="clearSearch" class="btn-close" ></button>
						<button type="button" id="clearFilter" style="background: transparent;border: 0px;"><span><f:image src="EXT:ns_yw_search/Resources/Public/Icons/clearFilter.svg" id="clearFilter" height="25" width="25" alt="minimize" /></span></button>
					</div>

					<input id="kesearchpagenumber" type="hidden" name="tx_kesearch_pi1[page]" value="{page}" />
					<input id="resetFilters" type="hidden" name="tx_kesearch_pi1[resetFilters]" value="0" />
					<input id="sortByField" type="hidden" name="tx_kesearch_pi1[sortByField]" value="{sortByField}" />
					<input id="sortByDir" type="hidden" name="tx_kesearch_pi1[sortByDir]" value="{sortByDir}" />
					
					<f:if condition="{yw:CategoryFilter()}">
						<div id="filter">
							<f:if condition="{filters}">
								<div id="kesearch_filters">
									<f:render partial="Filters" arguments="{conf: conf, numberofresults: numberofresults, resultrows: resultrows, filters: filters}" />
								</div>
							</f:if>
						</div>
					</f:if>
				</fieldset>
			</form>
		</div>
	</div>

</f:section>