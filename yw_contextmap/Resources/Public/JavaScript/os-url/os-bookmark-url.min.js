!function(){var i=window.OpenSeadragon;if(!i&&!(i=require("openseadragon")))throw new Error("OpenSeadragon is missing.");i.Viewer.prototype.bookmarkUrl=function(){function o(){var t={},o=window.location.hash.replace(/^#/,"");return o&&o.split("&").forEach(function(o){var e=o.split("="),n=e[0],e=parseFloat(e[1]);!n||isNaN(e)?console.error("bad hash param",o):t[n]=e}),t}function e(){clearTimeout(t),t=setTimeout(function(){var o=a.viewport.getZoom(),e=a.viewport.getCenter(),n=location.pathname+location.hash,e=location.pathname+"#zoom="+o+"&x="+e.x+"&y="+e.y;history.replaceState({},"",e),e!==n&&a.raiseEvent("bookmark-url-change",{url:location.href})},100)}function n(o){var e=a.viewport.getZoom(),n=a.viewport.getCenter();void 0!==o.zoom&&o.zoom!==e&&a.viewport.zoomTo(o.zoom,null,!0),void 0===o.x||void 0===o.y||o.x===n.x&&o.y===n.y||a.viewport.panTo(new i.Point(o.x,o.y),!0)}var t,a=this,r=o();0===this.world.getItemCount()?this.addOnceHandler("open",function(){n(r)}):n(r),this.addHandler("zoom",e),this.addHandler("pan",e),window.addEventListener("hashchange",function(){n(o())},!1)}}();