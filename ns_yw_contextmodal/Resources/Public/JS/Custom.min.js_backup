let commentModule,commentsSubmitResponse=!1,allowEvents=0;function ym_useraccount_menu(e){if("yw_account_button"===e.target.id){var t=document.getElementById("payment");t&&t.click()}}function setCookie(e,t,n){var o="";if(n){var r=new Date;r.setTime(r.getTime()+60*n*1e3),o="; expires="+r.toUTCString()}document.cookie=e+"="+t+o+"; path=/"}function convertToCamelCase(e){return e.replace(/\s/g,"")}async function getSubTitleData(){let e=window.location.href,t=window.location.href.split("/").pop(),n=[];for(var o=0;o<document.getElementsByClassName("ymPage").length;o++){let e=document.getElementsByClassName("ymPage")[o].getAttribute("id");n.push(e)}if(e.match(/ym-(.+)/)){let t=document.documentElement.lang,o=e.split(`/${t.slice(0,5)}/`);n.push(o)}let r=t.split("?"),a="";a=r.length>1&&""!==r[1]?`${t}&type=1701869876&slug=${[n]}`:`${t}?type=1701869876&slug=${[n]}`;return await fetch(a,{method:"GET"}).then((e=>{if(!e.ok)throw new Error("Network response was not ok");return e.json()})).then((e=>e)).catch((e=>{console.error("Error:",e)}))}function getCookie(e){for(var t=e+"=",n=document.cookie.split(";"),o=0;o<n.length;o++){for(var r=n[o];" "===r.charAt(0);)r=r.substring(1,r.length);if(0===r.indexOf(t))return r.substring(t.length,r.length)}return null}function loadAnotherModal(e,t){for(var n=0;n<e.length;n++){e.item(n).addEventListener("click",(function(e){var n=e.target;t.hide();if("ymPayment"===n.getAttribute("paymentModal")){const e=n.getAttribute("id"),t=n.getAttribute("menuItem"),o=window.location.href.split("/").pop();fetch(`${o}/${e}?type=990&colpos=${t}`,{method:"GET"}).then((e=>e.text())).then((e=>{const t=(new DOMParser).parseFromString(e,"text/html"),n=TYPO3.settings.TS.paymentModalID,o=document.querySelector(`#modal-${n}`),r=o.querySelector(".modal-body"),a=o.querySelector(".modal-header h2"),i=new bootstrap.Modal(document.querySelector(`#modal-${n}`));i.show(),a.innerHTML="",t.querySelector(".pageTitle")&&(a.innerText=t.querySelector(".pageTitle").innerText),r.innerHTML="",t.querySelector(".pageContent")&&r.appendChild(t.querySelector(".pageContent")),window.location.href.includes("?redirect")&&(document.querySelector(".modal").addEventListener("hide.bs.modal",(function(e){var t=window.location.href.split("?")[0];window.location.href=t})),i.hide());const l=document.querySelector(".paymentSwiper");if(l&&loadSwiper(l),window.location.href.includes("?redirect")){let e=document.getElementById("paymentStatus"),t=window.location.href;if(t.search){t.search="";let n=t.split("?").pop();if(e){e.setAttribute("value",n);e.getAttribute("data-url")}}let n=document.querySelector("ul > li:nth-child(3)").children[0];n.classList.add("active"),n.setAttribute("aria-selected","true");let o=document.getElementsByClassName("tab-pane")[2];o.classList.add("active"),o.classList.add("show")}else{let e=document.querySelector("ul > li:first-child").children[0];e.classList.add("active"),e.setAttribute("aria-selected","true");let t=document.getElementsByClassName("tab-pane")[0];t.classList.add("active"),t.classList.add("show")}}))}}))}}function loadSwiper(e){const t=e.getAttribute("data-spv"),n=e.getAttribute("data-spb"),o=e.getAttribute("data-spg"),r=e.getAttribute("data-del"),a=e.getAttribute("data-b576"),i=e.getAttribute("data-b768"),l=e.getAttribute("data-b992"),s=e.getAttribute("data-lop");e.getAttribute("data-suid");e.getAttribute("data-pagination"),e.getAttribute("data-navigation");var c=e.getAttribute("data-swiperclass");if(0===parseInt(s))new Swiper("."+c,{slidesPerView:parseInt(t),spaceBetween:parseInt(n),slidesPerGroup:parseInt(o),pagination:{el:".swiper-pagination",type:"bullets",clickable:!0},autoplay:{delay:parseInt(r)},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},breakpoints:{10:{slidesPerView:1},576:{slidesPerView:parseInt(a)},768:{slidesPerView:parseInt(i)},992:{slidesPerView:parseInt(l)}}});else new Swiper("."+c,{slidesPerView:parseInt(t),spaceBetween:parseInt(n),slidesPerGroup:parseInt(o),loop:!0,pagination:{el:".swiper-pagination",type:"bullets",clickable:!0},autoplay:{delay:parseInt(r)},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}})}function isScrolledToBottom(e){var t=e.scrollTop,n=e.scrollHeight;return t+5+e.clientHeight>=n}function loadAndAppendSubPageData(e,t,n){var o=document.createElement("div");o.className="spinner-border",o.setAttribute("id","subPageLoader"),o.setAttribute("role","status"),e.style.overflowY="hidden",t.appendChild(o),fetch(n,{method:"GET"}).then((e=>e.text())).then((e=>{const n=(new DOMParser).parseFromString(e,"text/html");n.querySelector(".pageContent")&&t.appendChild(n.querySelector(".pageContent"));const r=document.querySelector(".contextSwiper");r&&loadSwiper(r),t.removeChild(o)})),e.style.overflowY="auto"}document.documentElement.setAttribute("ontouchmove","ontouchmove"),addEventListener("DOMContentLoaded",(async e=>{const t=window.location.href,n=/ym-(.+)/;if((null!==getCookie("ymPageSlugLink")||""!==getCookie("ymPageSlugLink"))&&t.match(n)){const e=document.documentElement.lang;setCookie("ymPageSlugLink",t.split(`/${e.slice(0,5)}/`)[1],30);let n=`${window.location.protocol}//${window.location.hostname}/${e.slice(0,5)}`;window.location.href=n}if(document.getElementsByClassName("ymPage").length>0)for(var o=0;o<document.getElementsByClassName("ymPage").length;o++)null===getCookie("ymPageSlugLink")&&""===getCookie("ymPageSlugLink")||getCookie("ymPageSlugLink")===document.getElementsByClassName("ymPage")[o].getAttribute("id")&&"3"===document.getElementsByClassName("ymPage")[o].getAttribute("menuitem")&&(document.getElementsByClassName("ymPage")[o].addEventListener("click",(e=>{e.target.getAttribute("id");let t=TYPO3.settings.TS.contextModaID;document.querySelector(`#modal-${t}`)})),document.getElementsByClassName("ymPage")[o].click(),setCookie("ymPageSlugLink","",3600)),document.getElementsByClassName("ymPage")[o].addEventListener("click",(e=>{var t=e.target;const n=t.getAttribute("id");let o=TYPO3.settings.TS.contextModaID;document.querySelector(`#modal-${o}`);const r=t.getAttribute("menuItem"),a=t.getAttribute("data-pid");var i=[];t.getAttribute("contextModal");const l=window.location.href.split("/").pop().slice(0,5);fetch(`${l}?type=1699527132&mainPid=${a}`,{method:"GET"}).then((e=>e.json())).then((e=>{i=e})).then((()=>{if("3"!==r&&"4"!==r){fetch(`${l}/${n}?type=990&colpos=${r}`,{method:"GET"}).then((e=>e.text())).then((e=>{const t=new DOMParser,n=t.parseFromString(e,"text/html"),o=TYPO3.settings.TS.contextModaID,r=document.querySelector(`#modal-${o}`),a=r.querySelector(".modal-body"),s=r.querySelector(".modal-header h2");let c=0;a.addEventListener("scroll",(()=>{if(isScrolledToBottom(a)){if(i[c]){let e=`${l}/${i[c]}?type=990&colpos=0`;loadAndAppendSubPageData(r,a,e)}c++}}));new bootstrap.Modal(document.querySelector(`#modal-${o}`)).show(),s.innerHTML="",n.querySelector(".pageTitle")&&(s.innerText=n.querySelector(".pageTitle").innerText),a.innerHTML="",n.querySelector(".pageContent")&&a.appendChild(n.querySelector(".pageContent"));var d=document.querySelector(".pageContent form");if(d){d.getAttribute("name");d.addEventListener("submit",(e=>{e.preventDefault();const n=new FormData(d),o=new XMLHttpRequest;let r=d.getAttribute("action");o.open("POST",r,!0),o.onreadystatechange=function(){if(o.readyState===XMLHttpRequest.DONE){const e=o.responseText,n=t.parseFromString(e,"text/html");document.querySelector(".pageContent .tx-pwcomment-pi1 #comments").innerHTML="";const r=n.querySelector(".tx-pwcomment-pi1 .typo3-messages").innerHTML,a=n.querySelector(".tx-pwcomment-pi1 #comments").innerHTML;r&&(document.querySelector(".pageContent .tx-pwcomment-pi1 form").innerHTML+=r,document.querySelector(".pageContent .tx-pwcomment-pi1 #comments").innerHTML=a,commentsSubmitResponse=!0,allCommentActions(),commentModule=!0)}},o.send(n)}),!1)}const u=document.querySelector(".contextSwiper");u&&loadSwiper(u);a.querySelectorAll("button")&&document.body.addEventListener("click",ym_useraccount_menu)}))}}))}))}));
